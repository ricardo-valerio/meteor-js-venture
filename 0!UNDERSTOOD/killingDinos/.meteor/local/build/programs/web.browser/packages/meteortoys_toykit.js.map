)]}'
{"version":3,"sources":["meteortoys:toykit/client/main.html","meteortoys:toykit/client/main.js","meteortoys:toykit/client/functions.js","meteortoys:toykit/lib/collections.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA,sC;AACA,kB;AACA,8B;AACA,yD;AACA,iB;AACA,0C;AACA,uD;AACA,mB;AACA,kC;AACA,kC;AACA,6pB;AACA,gB;AACA,iB;AACA,0C;AACA,uD;AACA,mB;AACA,kC;AACA,kC;AACA,mD;AACA,gB;AACA,sD;AACA,U;AACA,qB;AACA,6C;AACA,oD;AACA,W;AACA,6B;AACA,gB;AACA,K;AACA,I;AACA,+C;;AAEA,kC;AACA,wE;AACA,kB;AACA,mB;AACA,yB;AACA,2H;AACA,M;AACA,oB;AACA,qD;AACA,K;AACA,kC;AACA,gD;AACA,iB;AACA,oE;AACA,2C;AACA,yD;AACA,S;AACA,iB;AACA,iB;AACA,gC;AACA,gC;AACA,2B;AACA,uC;AACA,+D;AACA,2C;AACA,yD;AACA,S;AACA,2B;AACA,a;AACA,I;;AAEA,yC;AACA,sF;AACA,kB;AACA,yC;AACA,Y;AACA,8C;AACA,M;AACA,iB;AACA,2E;AACA,iC;AACA,wC;AACA,6D;AACA,yC;AACA,kD;AACA,iC;AACA,+B;AACA,4B;AACA,8B;AACA,sC;AACA,kD;AACA,iC;AACA,+B;AACA,4B;AACA,8B;AACA,sC;AACA,wD;AACA,uB;AACA,0B;AACA,iC;AACA,sI;AACA,6B;AACA,mH;AACA,qC;AACA,2C;AACA,wB;AACA,gB;AACA,yC;AACA,O;AACA,K;AACA,I;;;;;;;;;;;;;;;;;;;ACvGA,gD;;AAEA,2C;AACA,kD;AACA,G;;AAEA,4B;AACA,qB;AACA,kC;AACA,mC;AACA,K;AACA,I;AACA,sB;AACA,iE;AACA,qC;AACA,Y;AACA,wC;AACA,K;AACA,G;AACA,G;;AAEA,2B;AACA,wC;AACA,6C;AACA,mB;AACA,K;;AAEA,iE;AACA,qD;AACA,Y;AACA,2D;AACA,K;AACA,I;AACA,wD;AACA,+D;AACA,8B;AACA,K;AACA,I;AACA,yC;AACA,oD;AACA,G;AACA,G;;AAEA,uB;AACA,oB;AACA,0C;AACA,gC;AACA,K;AACA,G;AACA,G;;AAEA,kC;AACA,6B;;AAEA,uB;AACA,I;AACA,oC;AACA,oC;;AAEA,oB;AACA,qC;AACA,mB;AACA,K;;AAEA,oB;AACA,sC;AACA,mB;AACA,K;AACA,I;;AAEA,4D;AACA,c;AACA,gC;AACA,+C;AACA,c;AACA,wD;AACA,O;AACA,O;;AAEA,G;AACA,G;;;;;;;;;;;;;;;;;;AChFA,sB;AACA,0B;AACA,8B;AACA,G;;AAEA,qB;AACA,wB;AACA,I;AACA,kB;AACA,kC;AACA,qC;AACA,I;AACA,Y;AACA,0B;AACA,6B;AACA,sC;AACA,yC;AACA,e;AACA,Y;AACA,2E;AACA,sC;AACA,Q;AACA,gD;AACA,yC;AACA,Q;AACA,K;AACA,U;AACA,I;AACA,wB;AACA,Y;AACA,sC;AACA,0C;AACA,0C;AACA,O;AACA,O;AACA,U;AACA,I;AACA,8B;;AAEA,iE;;AAEA,0B;AACA,kD;AACA,gD;AACA,kC;AACA,mC;AACA,qF;AACA,S;AACA,K;;AAEA,wB;AACA,sD;AACA,Y;AACA,qD;AACA,K;;AAEA,I;AACA,6B;AACA,sC;AACA,sD;AACA,K;AACA,I;AACA,0B;AACA,4D;AACA,M;AACA,oE;AACA,sD;;AAEA,uD;;AAEA,K;AACA,G;AACA,C;;;AAGA,mB;;AAEA,oC;AACA,wB;;AAEA,O;AACA,iC;AACA,I;AACA,mB;AACA,4B;AACA,G;;AAEA,mB;AACA,C;;AAEA,qB;;AAEA,yD;;AAEA,4C;AACA,E;AACA,Q;AACA,gD;AACA,8B;AACA,E;;AAEA,+B;AACA,iF;AACA,K;AACA,C;;;;;;;;;;;;;;;;;;;ACxGA,kB;AACA,+D;AACA,6D;AACA,0D;AACA,C;;AAEA,kC;AACA,sB;AACA,iB;AACA,G;AACA,qB;AACA,iB;AACA,G;AACA,qB;AACA,iB;AACA,E;AACA,G;;AAEA,gC;AACA,sB;AACA,iB;AACA,G;AACA,qB;AACA,iB;AACA,G;AACA,qB;AACA,iB;AACA,E;AACA,G;;AAEA,6B;AACA,sB;AACA,iB;AACA,G;AACA,qB;AACA,iB;AACA,G;AACA,qB;AACA,iB;AACA,E;AACA,G;;AAEA,sB;AACA,+E;AACA,C","file":"/packages/meteortoys_toykit.js","sourcesContent":["\nTemplate.body.addContent((function() {\n  var view = this;\n  return Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"MeteorToys_Pro\"));\n  }, function() {\n    return [ \"\\n\t\t\", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"MeteorToys\"));\n    }, function() {\n      return [ \"\\n\t\t\t\", HTML.DIV({\n        \"class\": \"MeteorToys_orbs\"\n      }, \"\\n\t\t\t\t\", Spacebars.include(view.lookupTemplate(\"MeteorToys_accounts\")), \"\\n\t\t\t\t\", Spacebars.include(view.lookupTemplate(\"MeteorToys_shell\")), \"\\n\t\t\t\t\", Spacebars.include(view.lookupTemplate(\"MeteorToys_method\")), \"\\n\t\t\t\t\", Spacebars.include(view.lookupTemplate(\"MeteorToys_autopub\")), \"\\n\t\t\t\t\", Spacebars.include(view.lookupTemplate(\"MeteorToys_sub\")), \"\\n\t\t\t\t\", Spacebars.include(view.lookupTemplate(\"MeteorToys_pubsub\")), \"\\n\t\t\t\t\", Spacebars.include(view.lookupTemplate(\"MeteorToys_intercept\")), \"\\n\t\t\t\t\", Spacebars.include(view.lookupTemplate(\"MeteorToys_status\")), \"\\n\t\t\t\t\", Spacebars.include(view.lookupTemplate(\"MeteorToys_reload\")), \"\\n\t\t\t\"), \"\\n\t\t\" ];\n    }), \"\\n\t\" ];\n  }, function() {\n    return [ \"\\n\t\t\", Blaze.If(function() {\n      return Spacebars.call(view.lookup(\"MeteorToys\"));\n    }, function() {\n      return [ \"\\n\t\t\t\", HTML.DIV({\n        \"class\": \"MeteorToys_orbs\"\n      }, \"\\n\t\t\t\t\", Blaze._TemplateWith(function() {\n        return {\n          template: Spacebars.call(view.lookup(\"all\"))\n        };\n      }, function() {\n        return Spacebars.include(function() {\n          return Spacebars.call(Template.__dynamic);\n        });\n      }), \"\\n\t\t\t\"), \"\\n\t\t\" ];\n    }), \"\\n\t\" ];\n  });\n}));\nMeteor.startup(Template.body.renderToDocument);\n\nTemplate.__checkName(\"MeteorToy\");\nTemplate[\"MeteorToy\"] = new Template(\"Template.MeteorToy\", (function() {\n  var view = this;\n  return HTML.DIV({\n    \"class\": function() {\n      return [ \"MeteorToys_orb \", Spacebars.mustache(view.lookup(\"type\")), \" \", Spacebars.mustache(view.lookup(\"state\")) ];\n    },\n    id: function() {\n      return Spacebars.mustache(view.lookup(\"name\"));\n    }\n  }, \"\\n\t\t\", Blaze.If(function() {\n    return Spacebars.call(view.lookup(\"empty\"));\n  }, function() {\n    return [ \"\\n\t\t\t\", Blaze._InOuterTemplateScope(view, function() {\n      return Spacebars.include(function() {\n        return Spacebars.call(view.templateContentBlock);\n      });\n    }), \"\\n\t\t\" ];\n  }, function() {\n    return [ \"\\n\t\t\t\", HTML.DIV({\n      \"class\": \"MeteorToys_icon\"\n    }), \"\\n\t\t\t\", HTML.DIV({\n      \"class\": \"MeteorToys_orb_wrapper\"\n    }, \"\\n\t\t\t\t\", Blaze._InOuterTemplateScope(view, function() {\n      return Spacebars.include(function() {\n        return Spacebars.call(view.templateContentBlock);\n      });\n    }), \"\\n\t\t\t\"), \"\\n\t\t\" ];\n  }), \"\\n\t\");\n}));\n\nTemplate.__checkName(\"MeteorToys_basic\");\nTemplate[\"MeteorToys_basic\"] = new Template(\"Template.MeteorToys_basic\", (function() {\n  var view = this;\n  return Blaze._TemplateWith(function() {\n    return {\n      name: Spacebars.call(\"MeteorToys_basic\")\n    };\n  }, function() {\n    return Spacebars.include(view.lookupTemplate(\"MeteorToy\"), function() {\n      return [ \"\\n\t\t\", HTML.DIV({\n        \"class\": \"MeteorToys_sub_header\"\n      }, \"\\n\t\t\tActivate Meteor Toys\\n\t\t\"), \"\\n\t\t\", HTML.DIV({\n        \"class\": \"MeteorToys_sub_content\"\n      }, \"\\n\\n\t\t\", HTML.FORM(\"\\n\\n\t\t\t\", HTML.DIV({\n        \"class\": \"MeteorToys_row\"\n      }, \"\\n\t\t\t\t\", HTML.INPUT({\n        id: \"meteortoyscadf\"\n      }), \"\\n\t\t\t\t\", HTML.DIV({\n        \"class\": \"MeteorToys_row_name\"\n      }, \"Email\"), \"\\n\t\t\t\"), \"\\n\\n\t\t\t\", HTML.DIV({\n        \"class\": \"MeteorToys_row\"\n      }, \"\\n\t\t\t\t\", HTML.INPUT({\n        id: \"meteortoyspass\"\n      }), \"\\n\t\t\t\t\", HTML.DIV({\n        \"class\": \"MeteorToys_row_name\"\n      }, \"Serial\"), \"\\n\t\t\t\"), \"\\n\\n\\n\t\t\t\t\", HTML.INPUT({\n        type: \"submit\",\n        value: \"Activate\",\n        style: \"margin-top: -4px\"\n      }), \"\\n\t\t\t\t\\n\t\t\t\t\", HTML.BR(), HTML.BR(), HTML.BR(), HTML.BR(), HTML.BR(), HTML.BR(), HTML.BR(), HTML.BR(), \"\\n\t\t\t\t\", HTML.DIV({\n        style: \"height:10px;\"\n      }), \"\\n\t\t\t\tExperience the next level\", HTML.BR(), \" of JetSetter and Mongol. \", HTML.BR(), \"\\n\t\t\t\t\", HTML.A({\n        href: \"http://bit.ly/1FqdsPM\"\n      }, \"See Meteor Toys \", HTML.CharRef({\n        html: \"&raquo;\",\n        str: \"Â»\"\n      })), \"\\n\\n\\n\t\t\"), \"\\n\t\t\"), \"\\n\t\" ];\n    });\n  });\n}));\n","MeteorToysDict = new ReactiveDict('MeteorToys');\n\nUI.registerHelper('MeteorToys', function(){\n  return MeteorToysDict.get(\"MeteorToys_display\");\n});\n\nTemplate.MeteorToy.helpers({\n  type: function () {\n    if (this.type === \"button\") { \n        return \"MeteorToys_button\";\n    }\n  },\n  state: function () {\n    if (MeteorToysDict.equals(\"MeteorToys_current\", this.name)) {\n      return \"MeteorToys_orb_active\";\n    } else {\n      return \"MeteorToys_orb_condensed\";\n    }\n  }\n});\n\nTemplate.MeteorToy.events({\n  'click .MeteorToys_orb': function () {\n    if (this.name === \"MeteorToys_autopub\") {\n      return false;\n    }\n\n    if (MeteorToysDict.get(\"MeteorToys_current\") === this.name) {\n      MeteorToysDict.set(\"MeteorToys_current\", false)\n    } else {\n      MeteorToysDict.set(\"MeteorToys_current\", this.name)  \n    }\n  },\n  'click .MeteorToys_orb_wrapper': function (event, t) {\n    if ($('#' + this.name).hasClass('MeteorToys_orb_active')) {\n      event.stopPropagation();\n    }\n  },\n  'click .MeteorToys_name': function () {\n    MeteorToysDict.set(\"MeteorToys_current\", false);\n  }\n});\n\nTemplate.body.helpers({\n  all: function () {\n    if (Package[\"meteortoys:allthings\"]) {\n      return \"MeteorToys_basic\";\n    }\n  }\n});\n\nTemplate.MeteorToys_basic.events({\n  'submit': function (e, t) {\n\n    e.preventDefault();\n    \n    em = $(\"#meteortoyscadf\").val(),\n    pw = $(\"#meteortoyspass\").val();\n\n    if (em === \"\") {\n      alert(\"Please enter an email\");\n      return false;\n    }\n\n    if (pw === \"\") {\n      alert(\"Please enter a license\");\n      return false;\n    }\n    \n\n    Meteor.call(\"Mongol_verifyDoc\", em, pw, function (e,r) {\n      if (r) {\n        Meteor._reload.reload();\n        alert(\"Thanks for buying Meteor Toys!\")\n      } else {\n        alert(\"Invalid Credentials. Please try again.\");\n      }\n    });\n\n  }\n});","// Start by observing \nMeteor.startup(function(){\n  MeteorToys_ToyKit.hotKeys();\n});\n\nMeteorToys_ToyKit = {\n  observe: function () {\n    \n    // first load \n    MeteorToys_ToyKit.runPubSub();\n    MeteorToys_ToyKit.runJetSetter();\n    \n    // start\n    if (!Object.observe) {\n      setInterval(function(){\n        MeteorToys_ToyKit.runPubSub();\n        MeteorToys_ToyKit.runJetSetter();\n      }, 3000);\n    } else {\n      Object.observe(Meteor.default_connection._subscriptions, function() {\n        MeteorToys_ToyKit.runPubSub();\n      })\n      Object.observe(Session.keys, function () {\n        MeteorToys_ToyKit.runJetSetter();\n      })\n    }\n    // end\n  },\n  hotKeys: function () {\n    // start\n    $(document).keydown(function (e) {\n      if (e.keyCode === 77 && e.ctrlKey) {\n        MeteorToys_ToyKit.toggleDisplay();\n      }\n    });\n    // end\n  },\n  toggleDisplay: function () {\n\n    var displayStatus = MeteorToysDict.get(\"MeteorToys_display\");\n\n    // Start Toy Processes\n    // Break this out into seperate function later\n    if (typeof displayStatus  === 'undefined') {\n      MeteorToys_ToyKit.observe();\n      Tracker.autorun(function () {\n        Meteor.subscribe(\"MeteorToys\", MeteorToysDict.get(\"MeteorToys_autopublish\"));\n      });\n    }\n\n    if (displayStatus) {\n      MeteorToysDict.set(\"MeteorToys_display\", false);\n    } else {\n      MeteorToysDict.set(\"MeteorToys_display\", true);\n    }\n\n  },\n  runJetSetter: function () {\n    if (Package[\"msavin:jetsetter\"]) {\n      Package[\"msavin:jetsetter\"].JetSetter.getKeys();\n    }\n  },\n  runPubSub: function () {\n    if (Package[\"msavin:sub\"] || Package[\"msavin:mongol\"]) {\n      \n      var subscriptions  = Meteor.default_connection._subscriptions,\n          subKeys        = Object.keys(subscriptions);\n\n      MeteorToysDict.set(\"MeteorToys_PubSub\", subKeys);\n\n    }\n  }\n}\n\n\n// Public Function \n\nMeteorToys_Parse = function (data) {\n  var newObject = false;\n\n  try {\n    newObject = JSON.parse(data);\n    \n  } catch (error) {\n    newObject = String(data)\n  }\n\n  return newObject;\n}\n\n// Fix for Hot Reload\n\ndisplayStatus = MeteorToysDict.get(\"MeteorToys_display\");\n\nif (typeof displayStatus  === 'undefined') {\n  \n} else {\n  MeteorToysDict.set(\"MeteorToys_PubSub\", null);\n  MeteorToys_ToyKit.observe();\n  \n\n  Tracker.autorun(function () {\n    Meteor.subscribe(\"MeteorToys\", MeteorToysDict.get(\"MeteorToys_autopublish\"));\n  });\n}\n","MeteorToysData = {\n\t'Impersonate': new Mongo.Collection(\"MeteorToys_Impersonate\"),\n\t'JetSetter':   new Mongo.Collection(\"MeteorToys_JetSetter\"),\n\t'Mongol':      new Mongo.Collection(\"MeteorToys_Mongol\"),\n}\n\nMeteorToysData.Impersonate.allow({\n\tinsert: function () {\n\t    return true;\n\t},\n\tremove: function (){\n\t    return true;\n\t},\n\tupdate: function() {\n\t    return true;\n\t}\n});\n\nMeteorToysData.JetSetter.allow({\n\tinsert: function () {\n\t    return true;\n\t},\n\tremove: function (){\n\t    return true;\n\t},\n\tupdate: function() {\n\t    return true;\n\t}\n});\n\nMeteorToysData.Mongol.allow({\n\tinsert: function () {\n\t    return true;\n\t},\n\tremove: function (){\n\t    return true;\n\t},\n\tupdate: function() {\n\t    return true;\n\t}\n});\n\nif (Meteor.isServer) {\n\tMeteorToysData[\"credentials\"] = new Mongo.Collection(\"MeteorToysCredentials\");\n}"]}